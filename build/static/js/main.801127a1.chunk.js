(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{15:function(t,e,c){t.exports={notification:"Notifications_notification__28xsE",error:"Notifications_error__11E_l",success:"Notifications_success__cT74q",loading:"Notifications_loading__31oi1"}},23:function(t,e,c){t.exports={item:"ProductItem_item__2Q4cm",price:"ProductItem_price__3rYAH",actions:"ProductItem_actions__1JBf-"}},28:function(t,e,c){t.exports={button:"CartButton_button__25lPD",badge:"CartButton_badge__kgFil"}},35:function(t,e,c){t.exports={card:"Card_card__o9YLE"}},36:function(t,e,c){t.exports={cart:"Cart_cart__3MiaO"}},38:function(t,e,c){t.exports={header:"MainHeader_header__1ktvO"}},39:function(t,e,c){t.exports={products:"Products_products__Hr5b4"}},49:function(t,e,c){},53:function(t,e,c){"use strict";c.r(e);var i=c(32),n=c.n(i),r=c(8),a=c(11),s=c(29),d=c(34),o=c(4),u=c(1),l=function(){var t=Object(u.useState)(!1),e=Object(o.a)(t,2),c=e[0],i=e[1],n=Object(u.useState)(null),r=Object(o.a)(n,2),a=r[0],l=r[1],j=Object(u.useCallback)(function(){var t=Object(d.a)(Object(s.a)().mark((function t(e,c){var n,r;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),l(null),t.prev=2,t.next=5,fetch(e.url,{method:e.method?e.method:"GET",headers:e.headers?e.headers:{},body:e.body?JSON.stringify(e.body):null});case 5:if((n=t.sent).ok){t.next=8;break}throw new Error("Request Field");case 8:return t.next=10,n.json();case 10:r=t.sent,c(r),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(2),l(t.t0.message||"Something Went Wrong");case 17:i(!1);case 18:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e,c){return t.apply(this,arguments)}}(),[]);return{isLoading:c,error:a,requestFn:j}},j=Object(a.b)({name:"show",initialState:{show:!1},reducers:{toggleCart:function(t,e){t.show=!t.show}}}),b=j.actions,h=j,O=c(6),m=Object(a.b)({name:"Add",initialState:{items:[],TotalQuantity:0,changed:!1},reducers:{replaceCart:function(t,e){t.items=e.payload.items,t.TotalQuantity=e.payload.totalQuantity},addItem:function(t,e){var c=Object(O.a)(Object(O.a)({},e.payload.value),{},{quantity:1}),i=t.items.find((function(t){return t.id===c.id}));if(t.TotalQuantity=t.TotalQuantity+1,t.changed=!0,i){var n=Object(O.a)(Object(O.a)({},i),{},{quantity:i.quantity+1});t.items[t.items.indexOf(i)]=n;var r=t.items;t.items=r}else t.items.push(c)},removeItem:function(t,e){var c=Object(O.a)({},e.payload.value),i=t.items.find((function(t){return t.id===c.id}));t.TotalQuantity=t.TotalQuantity-1,t.changed=!0;var n,r=Object(O.a)(Object(O.a)({},i),{},{quantity:i.quantity-1});t.items[t.items.indexOf(i)]=r,n=1===i.quantity?t.items.filter((function(t){return t.id!==i.id})):t.items,t.items=n}}}),f=m.actions,x=m,p=Object(a.a)({reducer:{cart:h.reducer,add:x.reducer}}),_=(c(49),c(35)),v=c.n(_),y=c(0),g=function(t){return Object(y.jsx)("section",{className:"".concat(v.a.card," ").concat(t.className?t.className:""),children:t.children})},N=c(36),C=c.n(N),q=c(9),I=c.n(q),S=c(5),T=function(t){var e=t.title,c=t.quantity,i=t.price,n=t.id,r=Object(S.b)((function(t){return t.add.items})),a=i*c,s=Object(S.a)();return Object(y.jsxs)("li",{className:I.a.item,children:[Object(y.jsxs)("header",{children:[Object(y.jsx)("h3",{children:e}),Object(y.jsxs)("div",{className:I.a.price,children:["$",a.toFixed(2)," ",Object(y.jsxs)("span",{className:I.a.itemprice,children:["($",i.toFixed(2),"/item)"]})]})]}),Object(y.jsxs)("div",{className:I.a.details,children:[Object(y.jsxs)("div",{className:I.a.quantity,children:["x ",Object(y.jsx)("span",{children:c})]}),Object(y.jsxs)("div",{className:I.a.actions,children:[Object(y.jsx)("button",{onClick:function(t){var e=r.filter((function(e){return e.id===t.target.id})),c=Object(o.a)(e,1)[0];s(f.removeItem({value:c}))},id:n,children:"-"}),Object(y.jsx)("button",{onClick:function(t){var e=r.filter((function(e){return e.id===t.target.id})),c=Object(o.a)(e,1)[0];s(f.addItem({value:c}))},id:n,children:"+"})]})]})]})},k=function(t){var e=Object(S.b)((function(t){return t.add.items}));return Object(y.jsxs)(g,{className:C.a.cart,children:[Object(y.jsx)("h2",{children:"Your Shopping Cart"}),Object(y.jsx)("ul",{children:e.map((function(t){return Object(y.jsx)(T,{id:t.id,title:t.title,quantity:t.quantity,price:t.price},t.id)}))})]})},w=c(28),F=c.n(w),Q=function(t){var e=Object(S.b)((function(t){return t.add.TotalQuantity})),c=Object(S.a)();return Object(y.jsxs)("button",{className:F.a.button,onClick:function(){c(b.toggleCart())},children:[Object(y.jsx)("span",{children:"My Cart"}),Object(y.jsx)("span",{className:F.a.badge,children:e})]})},E=c(38),B=c.n(E),P=function(t){return Object(y.jsxs)("header",{className:B.a.header,children:[Object(y.jsx)("h1",{children:"ReduxCart"}),Object(y.jsx)("nav",{children:Object(y.jsx)("ul",{children:Object(y.jsx)("li",{children:Object(y.jsx)(Q,{})})})})]})},A=function(t){return Object(y.jsxs)(u.Fragment,{children:[Object(y.jsx)(P,{}),Object(y.jsx)("main",{children:t.children})]})},L=c(23),J=c.n(L),R=function(t){var e=t.title,c=t.price,i=t.description,n=t.productsArray,a=(Object(r.c)((function(t){return t.add.items})),Object(r.b)());return Object(y.jsx)("li",{className:J.a.item,children:Object(y.jsxs)(g,{children:[Object(y.jsxs)("header",{children:[Object(y.jsx)("h3",{children:e}),Object(y.jsxs)("div",{className:J.a.price,children:["$",c.toFixed(2)]})]}),Object(y.jsx)("p",{children:i}),Object(y.jsx)("div",{className:J.a.actions,children:Object(y.jsx)("button",{onClick:function(t){var e=n.filter((function(e){return e.id===t.target.id})),c=Object(o.a)(e,1)[0];a(f.addItem({value:c}))},id:t.id,children:"Add to Cart"})})]})})},W=c(39),H=c.n(W),M=function(t){var e=[{id:"t1",title:"test1",price:6,description:"This is a first product - amazing!"},{id:"t2",title:"test2",price:7,description:"This is a second product - amazing!"}];return Object(y.jsxs)("section",{className:H.a.products,children:[Object(y.jsx)("h2",{children:"Buy your favorite products"}),Object(y.jsx)("ul",{children:e.map((function(t){return Object(y.jsx)(R,{productsArray:e,id:t.id,title:t.title,price:t.price,description:t.description},t.id)}))})]})},Y=c(15),$=c.n(Y);var z=function(){var t=Object(u.useState)(!1),e=Object(o.a)(t,2),c=e[0],i=e[1],n=Object(S.b)((function(t){return t.cart.show})),r=Object(S.b)((function(t){return t.add})),a=l(),s=a.isLoading,d=a.error,j=a.requestFn;Object(u.useEffect)((function(){if(r.changed){j({url:"https://food-e7d7c-default-rtdb.firebaseio.com/cart.json",method:"PUT",body:r,headers:{"Content-Type":"application/json"}},(function(){i(!0)}))}}),[j,r]);var b,h=Object(S.a)(),O=l(),m=(O.isLoading,O.error,O.requestFn);return Object(u.useEffect)((function(){m({url:"https://food-e7d7c-default-rtdb.firebaseio.com/cart.json"},(function(t){h(f.replaceCart({items:t.items,totalQuantity:t.TotalQuantity})),console.log(t.items,"dddddd")}))}),[m,h]),d&&(b=Object(y.jsxs)("div",{className:$.a.error,children:[Object(y.jsx)("h2",{children:"Failed!"}),Object(y.jsx)("p",{children:"Something went wrong!"})]})),s&&(b=Object(y.jsx)("div",{className:$.a.loading,children:Object(y.jsx)("h2",{children:"Sending..."})})),s||d||!c||(b=Object(y.jsxs)("div",{className:$.a.success,children:[Object(y.jsx)("h2",{children:"Success!"}),Object(y.jsx)("p",{children:"Send Cart Data Successfully"})]})),Object(y.jsxs)(u.Fragment,{children:[Object(y.jsx)("div",{className:$.a.notification,children:b}),Object(y.jsxs)(A,{children:[n&&Object(y.jsx)(k,{}),Object(y.jsx)(M,{})]})]})};n.a.createRoot(document.getElementById("root")).render(Object(y.jsx)(r.a,{store:p,children:Object(y.jsx)(z,{})}))},9:function(t,e,c){t.exports={item:"CartItem_item__jBVoF",details:"CartItem_details__1KSGy",quantity:"CartItem_quantity__VsrUN",price:"CartItem_price__1ifEd",itemprice:"CartItem_itemprice__WSLqR",actions:"CartItem_actions__dlBWy"}}},[[53,1,2]]]);
//# sourceMappingURL=main.801127a1.chunk.js.map
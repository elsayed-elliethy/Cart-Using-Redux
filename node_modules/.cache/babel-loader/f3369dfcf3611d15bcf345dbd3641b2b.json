{"ast":null,"code":"import _regeneratorRuntime from\"D:/React2/Redux/Redux/Advanced Redux/01-starting-project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/React2/Redux/Redux/Advanced Redux/01-starting-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/React2/Redux/Redux/Advanced Redux/01-starting-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Component,useCallback,useState}from\"react\";var isInitial=true;var useHttp=function useHttp(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var requestFn=useCallback(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(configReq,applyData){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// if (isInitial) {\n//   isInitial = false;\n//   return;\n// }\nsetIsLoading(true);setError(null);_context.prev=2;_context.next=5;return fetch(configReq.url,{method:configReq.method?configReq.method:\"GET\",headers:configReq.headers?configReq.headers:{},body:configReq.body?JSON.stringify(configReq.body):null});case 5:response=_context.sent;if(response.ok){_context.next=8;break;}throw new Error(\"Request Field\");case 8:_context.next=10;return response.json();case 10:data=_context.sent;applyData(data);_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](2);setError(_context.t0.message||\"Something Went Wrong\");case 17:setIsLoading(false);case 18:case\"end\":return _context.stop();}}},_callee,null,[[2,14]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}(),[]);return{isLoading:isLoading,error:error,requestFn:requestFn};};export default useHttp;","map":{"version":3,"names":["React","Component","useCallback","useState","isInitial","useHttp","isLoading","setIsLoading","error","setError","requestFn","configReq","applyData","fetch","url","method","headers","body","JSON","stringify","response","ok","Error","json","data","message"],"sources":["D:/React2/Redux/Redux/Advanced Redux/01-starting-project/src/hooks/use-http.js"],"sourcesContent":["import React, { Component, useCallback, useState } from \"react\";\r\n\r\nlet isInitial = true;\r\nconst useHttp = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const requestFn = useCallback(async (configReq, applyData) => {\r\n    // if (isInitial) {\r\n    //   isInitial = false;\r\n    //   return;\r\n    // }\r\n    setIsLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await fetch(configReq.url, {\r\n        method: configReq.method ? configReq.method : \"GET\",\r\n        headers: configReq.headers ? configReq.headers : {},\r\n        body: configReq.body ? JSON.stringify(configReq.body) : null,\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error(\"Request Field\");\r\n      }\r\n      const data = await response.json();\r\n      applyData(data);\r\n    } catch (err) {\r\n      setError(err.message || \"Something Went Wrong\");\r\n    }\r\n\r\n    setIsLoading(false);\r\n  }, []);\r\n  return {\r\n    isLoading: isLoading,\r\n    error: error,\r\n    requestFn: requestFn,\r\n  };\r\n};\r\n\r\nexport default useHttp;\r\n"],"mappings":"0bAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,WAA3B,CAAwCC,QAAxC,KAAwD,OAAxD,CAEA,GAAIC,UAAS,CAAG,IAAhB,CACA,GAAMC,QAAO,CAAG,QAAVA,QAAU,EAAM,CACpB,cAAkCF,QAAQ,CAAC,KAAD,CAA1C,wCAAOG,SAAP,eAAkBC,YAAlB,eACA,eAA0BJ,QAAQ,CAAC,IAAD,CAAlC,yCAAOK,KAAP,eAAcC,QAAd,eAEA,GAAMC,UAAS,CAAGR,WAAW,4FAAC,iBAAOS,SAAP,CAAkBC,SAAlB,sIAC5B;AACA;AACA;AACA;AACAL,YAAY,CAAC,IAAD,CAAZ,CACAE,QAAQ,CAAC,IAAD,CAAR,CAN4B,sCASHI,MAAK,CAACF,SAAS,CAACG,GAAX,CAAgB,CAC1CC,MAAM,CAAEJ,SAAS,CAACI,MAAV,CAAmBJ,SAAS,CAACI,MAA7B,CAAsC,KADJ,CAE1CC,OAAO,CAAEL,SAAS,CAACK,OAAV,CAAoBL,SAAS,CAACK,OAA9B,CAAwC,EAFP,CAG1CC,IAAI,CAAEN,SAAS,CAACM,IAAV,CAAiBC,IAAI,CAACC,SAAL,CAAeR,SAAS,CAACM,IAAzB,CAAjB,CAAkD,IAHd,CAAhB,CATF,QASpBG,QAToB,kBAcrBA,QAAQ,CAACC,EAdY,8BAelB,IAAIC,MAAJ,CAAU,eAAV,CAfkB,+BAiBPF,SAAQ,CAACG,IAAT,EAjBO,SAiBpBC,IAjBoB,eAkB1BZ,SAAS,CAACY,IAAD,CAAT,CAlB0B,iFAoB1Bf,QAAQ,CAAC,YAAIgB,OAAJ,EAAe,sBAAhB,CAAR,CApB0B,QAuB5BlB,YAAY,CAAC,KAAD,CAAZ,CAvB4B,qEAAD,mEAwB1B,EAxB0B,CAA7B,CAyBA,MAAO,CACLD,SAAS,CAAEA,SADN,CAELE,KAAK,CAAEA,KAFF,CAGLE,SAAS,CAAEA,SAHN,CAAP,CAKD,CAlCD,CAoCA,cAAeL,QAAf"},"metadata":{},"sourceType":"module"}